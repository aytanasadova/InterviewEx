
User uploads new image and stores it. During storage user choose compressing and filter methods.

With the bad way. open-close principle is now following.